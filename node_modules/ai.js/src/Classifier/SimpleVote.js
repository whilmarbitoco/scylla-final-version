var BaseClassifier = require('./BaseClassifier.js');

class SimpleVote extends BaseClassifier {
    constructor (argument) {
        super(argument);

        this.majorityLabel = -1;
        this.majorityCount = 0;
    }
    train (argument) {
        super.train(argument);

        let {data} = argument;

        for (let label of data.labels) {
            label = this.__labelToNumber(label);
            if (this.majorityLabel != label) {
                if (this.majorityCount <= 0) {
                    this.majorityLabel = label;
                    this.majorityCount = 1;
                } else {
                    this.majorityCount--;
                }
            }
        }
    }
    test (argument) {
        super.test(argument);

        let {data} = argument;

        return this.__toReadablePrediction({predicated: new Array(data.size.rowNumber).fill(this.majorityLabel)});
    }
    help () {
        console.log('I\'m SimpleVote');
    }
};

module.exports = SimpleVote;
